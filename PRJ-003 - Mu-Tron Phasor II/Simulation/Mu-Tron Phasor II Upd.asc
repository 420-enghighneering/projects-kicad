Version 4
SHEET 1 4624 1972
WIRE 1696 -224 560 -224
WIRE 2800 -224 1696 -224
WIRE 432 -160 384 -160
WIRE 560 -160 560 -224
WIRE 560 -160 496 -160
WIRE 736 -144 688 -144
WIRE 864 -144 816 -144
WIRE 384 -64 384 -160
WIRE 432 -64 384 -64
WIRE 560 -64 560 -160
WIRE 560 -64 512 -64
WIRE 688 -32 688 -144
WIRE 736 -32 688 -32
WIRE 864 -32 864 -144
WIRE 864 -32 800 -32
WIRE 2800 -32 2800 -224
WIRE 1008 0 976 0
WIRE 1104 0 1088 0
WIRE 1280 0 1248 0
WIRE 1376 0 1360 0
WIRE 1536 0 1520 0
WIRE 1648 0 1616 0
WIRE 1824 0 1808 0
WIRE 1936 0 1904 0
WIRE 2096 0 2064 0
WIRE 2208 0 2176 0
WIRE 2384 0 2352 0
WIRE 2512 0 2464 0
WIRE 2976 16 2928 16
WIRE 3072 16 3056 16
WIRE 3104 16 3072 16
WIRE 3216 16 3184 16
WIRE 976 48 976 0
WIRE 1152 48 1136 48
WIRE 1248 48 1248 0
WIRE 1248 48 1232 48
WIRE 1424 48 1408 48
WIRE 1520 48 1520 0
WIRE 1520 48 1504 48
WIRE 1696 48 1664 48
WIRE 1808 48 1808 0
WIRE 1808 48 1776 48
WIRE 1968 48 1952 48
WIRE 2064 48 2064 0
WIRE 2064 48 2048 48
WIRE 2256 48 2240 48
WIRE 2352 48 2352 0
WIRE 2352 48 2336 48
WIRE 3216 48 3216 16
WIRE 2800 64 2800 32
WIRE 384 96 384 -64
WIRE 432 96 384 96
WIRE 560 112 560 -64
WIRE 560 112 496 112
WIRE 576 112 560 112
WIRE 688 112 688 -32
WIRE 688 112 656 112
WIRE 736 112 688 112
WIRE 976 112 976 48
WIRE 1008 112 976 112
WIRE 1248 112 1248 48
WIRE 1280 112 1248 112
WIRE 1520 112 1520 48
WIRE 1536 112 1520 112
WIRE 1808 112 1808 48
WIRE 1824 112 1808 112
WIRE 2064 112 2064 48
WIRE 2096 112 2064 112
WIRE 2352 112 2352 48
WIRE 2384 112 2352 112
WIRE 2928 112 2928 16
WIRE 2976 112 2928 112
WIRE 3072 112 3072 16
WIRE 3072 112 3040 112
WIRE 96 128 0 128
WIRE 128 128 96 128
WIRE 208 128 192 128
WIRE 272 128 208 128
WIRE 368 128 352 128
WIRE 432 128 368 128
WIRE 864 128 864 -32
WIRE 864 128 800 128
WIRE 896 128 896 48
WIRE 896 128 864 128
WIRE 1104 128 1104 0
WIRE 1104 128 1072 128
WIRE 1136 128 1136 48
WIRE 1136 128 1104 128
WIRE 1376 128 1376 0
WIRE 1376 128 1344 128
WIRE 1408 128 1408 48
WIRE 1408 128 1376 128
WIRE 1648 128 1648 0
WIRE 1648 128 1600 128
WIRE 1664 128 1664 48
WIRE 1664 128 1648 128
WIRE 1936 128 1936 0
WIRE 1936 128 1888 128
WIRE 1952 128 1952 48
WIRE 1952 128 1936 128
WIRE 2208 128 2208 0
WIRE 2208 128 2160 128
WIRE 2240 128 2240 48
WIRE 2240 128 2208 128
WIRE 2512 128 2512 0
WIRE 2512 128 2448 128
WIRE 2576 128 2512 128
WIRE 208 144 208 128
WIRE 736 144 688 144
WIRE 896 144 896 128
WIRE 976 144 960 144
WIRE 1008 144 976 144
WIRE 1136 144 1136 128
WIRE 1152 144 1136 144
WIRE 1232 144 1216 144
WIRE 1280 144 1232 144
WIRE 1408 144 1408 128
WIRE 1424 144 1408 144
WIRE 1536 144 1488 144
WIRE 1664 144 1664 128
WIRE 1696 144 1664 144
WIRE 1776 144 1760 144
WIRE 1824 144 1776 144
WIRE 1952 144 1952 128
WIRE 1968 144 1952 144
WIRE 2048 144 2032 144
WIRE 2096 144 2048 144
WIRE 2240 144 2240 128
WIRE 2256 144 2240 144
WIRE 2336 144 2320 144
WIRE 2384 144 2336 144
WIRE 368 160 368 128
WIRE 2576 224 2576 192
WIRE 2656 224 2576 224
WIRE 2848 224 2736 224
WIRE 2928 224 2928 112
WIRE 2928 224 2848 224
WIRE 2960 224 2928 224
WIRE 3072 240 3072 112
WIRE 3072 240 3024 240
WIRE 3296 240 3072 240
WIRE 3392 240 3360 240
WIRE 3504 240 3472 240
WIRE 3536 240 3504 240
WIRE 976 256 976 144
WIRE 1072 256 976 256
WIRE 1232 256 1232 144
WIRE 1328 256 1232 256
WIRE 1488 256 1488 144
WIRE 1584 256 1488 256
WIRE 1776 256 1776 144
WIRE 1872 256 1776 256
WIRE 2048 256 2048 144
WIRE 2160 256 2048 256
WIRE 2336 256 2336 144
WIRE 2448 256 2336 256
WIRE 2800 256 2800 144
WIRE 2864 256 2800 256
WIRE 2960 256 2864 256
WIRE 688 272 688 144
WIRE 736 272 688 272
WIRE 864 272 800 272
WIRE 976 288 976 256
WIRE 1072 288 1072 256
WIRE 1232 288 1232 256
WIRE 1328 288 1328 256
WIRE 1488 288 1488 256
WIRE 1584 288 1584 256
WIRE 1776 288 1776 256
WIRE 1872 288 1872 256
WIRE 2048 288 2048 256
WIRE 2160 288 2160 256
WIRE 2336 288 2336 256
WIRE 2448 288 2448 256
WIRE 2800 320 2800 256
WIRE 688 368 688 272
WIRE 736 368 688 368
WIRE 864 368 864 272
WIRE 864 368 816 368
WIRE 864 384 864 368
WIRE 976 400 976 368
WIRE 1072 400 1072 368
WIRE 1072 400 976 400
WIRE 1232 400 1232 368
WIRE 1328 400 1328 368
WIRE 1328 400 1232 400
WIRE 1488 400 1488 368
WIRE 1584 400 1584 368
WIRE 1584 400 1488 400
WIRE 1776 400 1776 368
WIRE 1872 400 1872 368
WIRE 1872 400 1776 400
WIRE 2048 400 2048 368
WIRE 2160 400 2160 368
WIRE 2160 400 2048 400
WIRE 2336 400 2336 368
WIRE 2448 400 2448 368
WIRE 2448 400 2336 400
WIRE 688 416 688 368
WIRE 2576 496 2576 224
WIRE 688 528 688 496
WIRE 2528 528 688 528
WIRE 448 592 448 496
WIRE 2528 592 2528 528
WIRE 2576 592 2576 576
WIRE 2576 592 2528 592
WIRE 2576 608 2576 592
WIRE 1696 656 1648 656
WIRE 1824 656 1760 656
WIRE 448 720 448 672
WIRE 496 720 448 720
WIRE 496 736 496 720
WIRE 1504 816 1472 816
WIRE 1648 816 1648 656
WIRE 1648 816 1584 816
WIRE 1696 816 1648 816
WIRE 2192 816 2160 816
WIRE 2304 816 2256 816
WIRE 1824 832 1824 656
WIRE 1824 832 1760 832
WIRE 1888 832 1824 832
WIRE 1952 832 1888 832
WIRE 448 848 448 720
WIRE 1696 848 1648 848
WIRE 448 864 448 848
WIRE 1952 880 1952 832
WIRE 1472 912 1472 816
WIRE 448 944 448 928
WIRE 2640 944 2608 944
WIRE 2672 944 2640 944
WIRE 2224 976 2224 960
WIRE 1648 992 1648 848
WIRE 1680 992 1648 992
WIRE 1824 992 1824 832
WIRE 1824 992 1760 992
WIRE 1952 992 1952 960
WIRE 2016 992 1952 992
WIRE 2160 992 2160 816
WIRE 2160 992 2096 992
WIRE 2192 992 2160 992
WIRE 2304 1008 2304 816
WIRE 2304 1008 2256 1008
WIRE 2368 1008 2304 1008
WIRE 2416 1008 2368 1008
WIRE 2192 1024 2160 1024
WIRE 1952 1040 1952 992
WIRE 2416 1072 2416 1008
WIRE 2640 1072 2640 944
WIRE 3424 1072 3376 1072
WIRE 3536 1072 3488 1072
WIRE 3648 1072 3600 1072
WIRE 3744 1072 3712 1072
WIRE 2896 1120 2896 992
WIRE 2864 1136 2816 1136
WIRE 3040 1152 2928 1152
WIRE 3088 1152 3040 1152
WIRE 1648 1168 1648 992
WIRE 1952 1168 1952 1120
WIRE 2160 1168 2160 1024
WIRE 2416 1168 2416 1152
WIRE 2496 1168 2416 1168
WIRE 2640 1168 2640 1152
WIRE 2640 1168 2576 1168
WIRE 2864 1168 2640 1168
WIRE 2416 1184 2416 1168
WIRE 2640 1184 2640 1168
WIRE 3328 1200 3152 1200
WIRE 3424 1200 3328 1200
WIRE 3536 1200 3488 1200
WIRE 3648 1200 3600 1200
WIRE 3744 1200 3744 1072
WIRE 3744 1200 3712 1200
WIRE 1648 1296 1648 1248
WIRE 2304 1296 2304 1008
WIRE 2304 1296 1648 1296
WIRE 2416 1312 2416 1264
WIRE 2816 1312 2816 1136
WIRE 2864 1312 2816 1312
WIRE 3248 1312 2944 1312
WIRE 3440 1312 3248 1312
WIRE 3744 1312 3744 1200
WIRE 3744 1312 3440 1312
WIRE 2816 1424 2816 1312
WIRE 2864 1424 2816 1424
WIRE 2960 1424 2944 1424
WIRE 3040 1424 3024 1424
WIRE 3152 1424 3120 1424
WIRE 3248 1424 3248 1312
WIRE 3248 1424 3232 1424
WIRE 3264 1424 3248 1424
WIRE 3440 1424 3440 1312
WIRE 3440 1424 3344 1424
WIRE 2816 1536 2816 1424
WIRE 2864 1536 2816 1536
WIRE 3040 1536 3040 1424
WIRE 3040 1536 2944 1536
WIRE 3040 1568 3040 1536
FLAG 0 208 0
FLAG 208 224 0
FLAG 368 224 0
FLAG 464 80 Vpos
FLAG 464 144 Vneg
FLAG 768 96 Vpos
FLAG 768 160 Vneg
FLAG 864 384 0
FLAG 1040 96 Vpos
FLAG 1040 160 Vneg
FLAG 1312 96 Vpos
FLAG 1312 160 Vneg
FLAG 1568 96 Vpos
FLAG 1856 96 Vpos
FLAG 2128 96 Vpos
FLAG 2416 96 Vpos
FLAG 1568 160 Vneg
FLAG 1856 160 Vneg
FLAG 2128 160 Vneg
FLAG 2416 160 Vneg
FLAG 1072 400 0
FLAG 1584 400 0
FLAG 1328 400 0
FLAG 1872 400 0
FLAG 2160 400 0
FLAG 2448 400 0
FLAG 3216 48 0
FLAG 2800 400 0
FLAG 2576 688 0
FLAG 96 128 IN
FLAG 1696 -224 PREDRY
FLAG 2848 224 WET
FLAG 2864 256 DRY
FLAG 3504 240 OUT
FLAG 2992 272 Vneg
FLAG 2992 208 Vpos
FLAG 1472 912 0
FLAG 1952 1248 0
FLAG 2160 1248 0
FLAG 1728 736 Vpos
FLAG 2224 896 Vpos
FLAG 1728 864 Vneg
FLAG 2224 1040 Vneg
FLAG 2416 1392 0
FLAG 2640 1264 0
FLAG 2752 944 0
FLAG 2528 944 Vpos
FLAG 2896 992 Vpos
FLAG 3152 1104 Vpos
FLAG 2896 1184 Vneg
FLAG 3040 1568 0
FLAG 1888 832 OP1OUT
FLAG 2368 1008 OP2OUT
FLAG 3040 1152 OP3OUT
FLAG 3328 1200 VDIODEPOS
FLAG 3744 1200 VDIODENEG
FLAG 496 736 0
FLAG 448 496 Vpos
FLAG 448 944 Vneg
FLAG 3376 1072 0
DATAFLAG 208 128 ""
DATAFLAG 560 112 ""
DATAFLAG 864 128 ""
DATAFLAG 1648 816 ""
DATAFLAG 1824 832 ""
DATAFLAG 1648 992 ""
SYMBOL cap 192 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value .047
SYMBOL res 192 128 R0
SYMATTR InstName R1
SYMATTR Value 390k
SYMBOL res 368 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 3.9k
SYMBOL cap 352 160 R0
SYMATTR InstName C2
SYMATTR Value 30p
SYMBOL voltage 0 112 R0
WINDOW 3 24 96 Left 1
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 0.1 1000)
SYMATTR InstName V1
SYMBOL Opamps\\OP07 464 48 R0
SYMATTR InstName U1
SYMBOL res 528 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 390k
SYMBOL cap 496 -176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMBOL res 672 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 4.7k
SYMBOL Opamps\\OP07 768 64 R0
SYMATTR InstName U2
SYMBOL cap 800 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 0.001µ
SYMBOL res 832 -160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 4.7k
SYMBOL cap 800 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.0033µ
SYMBOL res 832 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 4.7k
SYMBOL res 672 400 R0
SYMATTR InstName R7
SYMATTR Value 8.2k
SYMBOL Opamps\\OP07 1040 64 R0
SYMATTR InstName U3
SYMBOL cap 960 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 0.0068µ
SYMBOL res 992 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 4.7k
SYMBOL res 1104 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 4.7k
SYMBOL cap 1216 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 0.0068µ
SYMBOL res 1248 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 4.7k
SYMBOL Opamps\\OP07 1312 64 R0
SYMATTR InstName U4
SYMBOL res 1376 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 4.7k
SYMBOL cap 1488 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 0.0068µ
SYMBOL res 1520 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 4.7k
SYMBOL Opamps\\OP07 1568 64 R0
SYMATTR InstName U5
SYMBOL res 1632 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 4.7k
SYMBOL cap 1760 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 0.0068µ
SYMBOL res 1792 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 4.7k
SYMBOL Opamps\\OP07 1856 64 R0
SYMATTR InstName U6
SYMBOL res 1920 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 4.7k
SYMBOL cap 2032 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 0.0068µ
SYMBOL res 2064 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 4.7k
SYMBOL Opamps\\OP07 2128 64 R0
SYMATTR InstName U7
SYMBOL res 2192 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 4.7k
SYMBOL cap 2320 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 0.0068µ
SYMBOL res 2352 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 4.7k
SYMBOL Opamps\\OP07 2416 64 R0
SYMATTR InstName U8
SYMBOL res 2480 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 4.7k
SYMBOL res 960 272 R0
SYMATTR InstName R20
SYMATTR Value 220k
SYMBOL res 1056 272 R0
SYMATTR InstName R21
SYMATTR Value {LDR1}
SYMBOL res 1216 272 R0
SYMATTR InstName R22
SYMATTR Value 220k
SYMBOL res 1312 272 R0
SYMATTR InstName R23
SYMATTR Value {LDR1}
SYMBOL res 1472 272 R0
SYMATTR InstName R24
SYMATTR Value 220k
SYMBOL res 1568 272 R0
SYMATTR InstName R25
SYMATTR Value {LDR1}
SYMBOL res 1760 272 R0
SYMATTR InstName R26
SYMATTR Value 220k
SYMBOL res 1856 272 R0
SYMATTR InstName R27
SYMATTR Value {LDR1}
SYMBOL res 2032 272 R0
SYMATTR InstName R28
SYMATTR Value 220k
SYMBOL res 2144 272 R0
SYMATTR InstName R29
SYMATTR Value {LDR1}
SYMBOL res 2320 272 R0
SYMATTR InstName R30
SYMATTR Value 220k
SYMBOL res 2432 272 R0
SYMATTR InstName R31
SYMATTR Value {LDR1}
SYMBOL cap 2560 128 R0
SYMATTR InstName C12
SYMATTR Value .47µ
SYMBOL res 2752 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R32
SYMATTR Value 10k
SYMBOL Opamps\\OP07 2992 176 R0
SYMATTR InstName U9
SYMBOL res 2816 416 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R33
SYMATTR Value 8.2k
SYMBOL res 2816 160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R34
SYMATTR Value 10k
SYMBOL cap 2784 -32 R0
SYMATTR InstName C13
SYMATTR Value 1µ
SYMBOL cap 3040 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 820p
SYMBOL res 3072 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R35
SYMATTR Value 8.2k
SYMBOL res 3200 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R36
SYMATTR Value 27k
SYMBOL cap 3360 224 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C15
SYMATTR Value 10µ
SYMBOL res 3488 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R37
SYMATTR Value 560R
SYMBOL Opamps\\OP07 1728 768 R0
WINDOW 0 37 75 Left 2
SYMATTR InstName U11
SYMBOL cap 1760 640 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C22
SYMATTR Value .0068µ
SYMBOL res 1776 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R42
SYMATTR Value 56k
SYMBOL res 1600 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R43
SYMATTR Value 100k
SYMBOL res 1936 864 R0
WINDOW 3 36 76 Left 1
SYMATTR Value {25k*(1-RATE)}
SYMATTR InstName R44
SYMBOL res 1936 1024 R0
WINDOW 3 36 76 Left 1
SYMATTR Value {25k*(RATE)}
SYMATTR InstName R45
SYMBOL res 2112 976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R46
SYMATTR Value 27k
SYMBOL res 1936 1152 R0
SYMATTR InstName R47
SYMATTR Value 82R
SYMBOL Opamps\\OP07 2224 944 R0
SYMATTR InstName U12
SYMBOL cap 2256 800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C23
SYMATTR Value .47µ
SYMBOL res 1632 1152 R0
SYMATTR InstName R48
SYMATTR Value 47k
SYMBOL res 2144 1152 R0
SYMATTR InstName R49
SYMATTR Value 27k
SYMBOL res 2400 1056 R0
WINDOW 3 36 64 Left 1
SYMATTR Value {10k*(1-DEPTH)}
SYMATTR InstName R50
SYMBOL res 2400 1168 R0
WINDOW 3 40 58 Left 1
SYMATTR Value {10k*(DEPTH)}
SYMATTR InstName R51
SYMBOL res 2592 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R52
SYMATTR Value 82k
SYMBOL res 2624 1056 R0
SYMATTR InstName R53
SYMATTR Value 47k
SYMBOL res 2624 1168 R0
SYMATTR InstName R54
SYMATTR Value 3.3k
SYMBOL res 2768 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 53 6 VTop 1
SYMATTR InstName R55
SYMATTR Value {10k*(SWEEPOFFSET)}
SYMBOL res 2624 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 46 102 VTop 1
SYMATTR InstName R56
SYMATTR Value {10k*(1-SWEEPOFFSET)}
SYMBOL res 2400 1296 R0
SYMATTR InstName R57
SYMATTR Value 560R
SYMBOL Opamps\\OP07 2896 1088 R0
SYMATTR InstName U13
SYMBOL npn 3088 1104 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res 2960 1296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R58
SYMATTR Value 220k
SYMBOL res 2960 1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R59
SYMATTR Value 10k
SYMBOL res 2960 1520 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R60
SYMATTR Value 68k
SYMBOL res 3136 1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R61
SYMATTR Value 220R
SYMBOL res 3248 1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -54 92 VTop 1
SYMATTR InstName R62
SYMATTR Value {1k*(1-SWEEPRANGE)}
SYMBOL res 3360 1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -51 14 VTop 1
SYMATTR InstName R63
SYMATTR Value {1k*(SWEEPRANGE)}
SYMBOL diode 2960 1440 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL diode 3424 1216 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode 3536 1216 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL diode 3648 1216 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D10
SYMATTR Value 1N4148
SYMBOL diode 2208 896 R0
SYMATTR InstName D11
SYMATTR Value 1N4148
SYMBOL diode 1712 736 R0
SYMATTR InstName D12
SYMATTR Value 1N4148
SYMBOL diode 3424 1088 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D13
SYMATTR Value 1N4148
SYMBOL diode 3536 1088 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D14
SYMATTR Value 1N4148
SYMBOL diode 3648 1088 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D15
SYMATTR Value 1N4148
SYMBOL res 2560 480 R0
WINDOW 3 36 76 Left 1
SYMATTR Value {10k*(1-FEEDBACK)}
SYMATTR InstName R64
SYMBOL res 2560 592 R0
WINDOW 3 36 76 Left 1
SYMATTR Value {10k*(1-FEEDBACK)}
SYMATTR InstName R65
SYMBOL voltage 448 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL voltage 448 832 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
TEXT 88 1384 Left 2 !.param LDR1 25k
TEXT 1096 -344 Left 2 ;Transient analysis for oscillator frequency:\n.tran 1s startup
TEXT 1104 -528 Left 2 ;Stepping R:\n.step param R15 1 9k 1k
TEXT 88 1448 Left 2 !.op 0.01s startup
TEXT 1096 -456 Left 2 ;Sweep multiple component values:\n.step param X list 1 2 3 4 5\n.param R15=table(X, 1, 0.1k, 2, 2.5k, 3, 5k, 4, 7.5k, 5, 9.9k) R14=table(X, 1, 9.9k, 2, 7.5k, 3, 5k, 4, 2.5k, 5, 0.1k)
TEXT 2512 872 Left 4 ;SWEEP OFFSET 10K
TEXT 3152 1480 Left 4 ;SWEEP RANGE 1K
TEXT 1984 824 Left 4 ;RATE \nA25K
TEXT 2488 1048 Left 4 ;DEPTH\nB10K
TEXT 1104 -744 Left 2 ;R1 value = {10k*(1-a)}\nR2 value = {10k*a}\nwith a spice directive like one of:\n.step param a list .1 .3 .6 .9\n.param a = .5
TEXT 2440 -488 Left 2 ;.step param POTROTRATE list 0.01 0.33 0.66 0.99
TEXT 2440 -456 Left 2 ;.param POTROTRATE = 0.5
TEXT 2440 -424 Left 2 ;.step param POTROTDEPTH list 0.01 0.33 0.66 0.99
TEXT 2440 -392 Left 2 ;.param POTROTDEPTH = 0.5
TEXT 2440 -360 Left 2 ;.step param POTROTOFFSET list 0.01 0.33 0.66 0.99
TEXT 2440 -328 Left 2 ;.param POTROTOFFSET = 0.5
TEXT 2440 -296 Left 2 ;.step param POTROTRANGE list 0.01 0.33 0.66 0.99
TEXT 2440 -264 Left 2 ;.param POTROTRANGE = 0.5
TEXT 88 1216 Left 2 !.param RATE 0.5
TEXT 88 1184 Left 2 !.param DEPTH=0.99
TEXT 88 1152 Left 2 !.param FEEDBACK=0.01
TEXT 88 1296 Left 2 !.param SWEEPRANGE 0.5
TEXT 88 1328 Left 2 !.step param SWEEPOFFSET 0.01 0.99 0.3
TEXT 432 1384 Left 2 ;.step param LDR1 list 1k 50k
TEXT 840 1216 Left 2 ;F=0.01, D=0.99, R=0.01, RANGE = 0.5, LDR = 50k -->\nSWEEP OFFSET =0.2 --> Clips op3out and Vdiodepos at top\nSWEEP OFFSET =0.35 --> Clips op3out and Vdiodepos at top\nSWEEP OFFSET =0.50 --> Clips op3out and Vdiodepos at top (barely)\nSWEEP OFFSET =0.65 --> \nSWEEP OFFSET =0.85 -->
TEXT -1208 1104 Left 2 !;tran 0.1s
TEXT -1208 1184 Left 2 ;Diode model taken from http://ltwiki.org/index.php?title=Standard.dio\nNote, this is not an ideal diode (as indicated by 'ICR' model name,\nbut this doesn't produce sensible output voltages
TEXT -1216 1320 Left 2 ;1N5817 provides higher negative output than 1N4001
TEXT -1608 1416 Left 2 !.model 1N5817 D(Is=31.7u Rs=.051 N=1.373 Cjo=190p M=.3 Eg=.69 Xti=2 Iave=1 Vpk=20 mfg=OnSemi type=Schottky)
TEXT -1776 1584 Left 2 !.model ICR D(Is=14.11n N=1.984 Rs=33.89m Ikf=94.81 Xti=3 Eg=1.11 Cjo=25.89p M=.44 Vj=.3245 Fc=.5 Bv=75 Ibv=10u Tt=5.7u Iave=1 Vpk=50 mfg=GI type=silicon)
